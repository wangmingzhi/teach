<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.teachpmp.server.dao.StudentAnswerMapper">
  <resultMap id="BaseResultMap" type="com.teachpmp.server.entity.StudentAnswer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 25 17:44:43 CST 2020.
    -->
    <id column="student_answer_id" jdbcType="VARCHAR" property="studentAnswerId" />
    <result column="area_type" jdbcType="VARCHAR" property="areaType" />
    <result column="student_id" jdbcType="VARCHAR" property="studentId" />
    <result column="student_name" jdbcType="VARCHAR" property="studentName" />
    <result column="train_type" jdbcType="VARCHAR" property="trainType" />
    <result column="exercise_type" jdbcType="VARCHAR" property="exerciseType" />
    <result column="bank_id" jdbcType="VARCHAR" property="bankId" />
    <result column="bank_name" jdbcType="VARCHAR" property="bankName" />
    <result column="excer_id" jdbcType="VARCHAR" property="excerId" />
    <result column="order_no" jdbcType="INTEGER" property="orderNo" />
    <result column="selection_correct" jdbcType="VARCHAR" property="selectionCorrect" />
    <result column="selection_answer" jdbcType="VARCHAR" property="selectionAnswer" />
    <result column="is_right" jdbcType="VARCHAR" property="isRight" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
    <result column="is_error_book" jdbcType="VARCHAR" property="isErrorBook" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 25 17:44:43 CST 2020.
    -->
    delete from tb_student_answer_info
    where student_answer_id = #{studentAnswerId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.teachpmp.server.entity.StudentAnswer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 25 17:44:43 CST 2020.
    -->
    insert into tb_student_answer_info (student_answer_id, area_type, student_id, 
      student_name, train_type, exercise_type, 
      bank_id, bank_name, excer_id, 
      order_no, selection_correct, selection_answer, 
      is_right, create_time, update_time,is_error_book
      )
    values (#{studentAnswerId,jdbcType=VARCHAR}, #{areaType,jdbcType=VARCHAR}, #{studentId,jdbcType=VARCHAR}, 
      #{studentName,jdbcType=VARCHAR}, #{trainType,jdbcType=VARCHAR}, #{exerciseType,jdbcType=VARCHAR}, 
      #{bankId,jdbcType=VARCHAR}, #{bankName,jdbcType=VARCHAR}, #{excerId,jdbcType=VARCHAR}, 
      #{orderNo,jdbcType=INTEGER}, #{selectionCorrect,jdbcType=VARCHAR}, #{selectionAnswer,jdbcType=VARCHAR}, 
      #{isRight,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP},#{isErrorBook,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.teachpmp.server.entity.StudentAnswer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 25 17:44:43 CST 2020.
    -->
    update tb_student_answer_info
    set area_type = #{areaType,jdbcType=VARCHAR},
      student_id = #{studentId,jdbcType=VARCHAR},
      student_name = #{studentName,jdbcType=VARCHAR},
      train_type = #{trainType,jdbcType=VARCHAR},
      exercise_type = #{exerciseType,jdbcType=VARCHAR},
      bank_id = #{bankId,jdbcType=VARCHAR},
      bank_name = #{bankName,jdbcType=VARCHAR},
      excer_id = #{excerId,jdbcType=VARCHAR},
      order_no = #{orderNo,jdbcType=INTEGER},
      selection_correct = #{selectionCorrect,jdbcType=VARCHAR},
      selection_answer = #{selectionAnswer,jdbcType=VARCHAR},
      is_right = #{isRight,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP},
    is_error_book = #{isErrorBook,jdbcType=VARCHAR},
    where student_answer_id = #{studentAnswerId,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 25 17:44:43 CST 2020.
    -->
    select student_answer_id, area_type, student_id, student_name, train_type, exercise_type, 
    bank_id, bank_name, excer_id, order_no, selection_correct, selection_answer, is_right, 
    create_time, update_time,is_error_book
    from tb_student_answer_info
    where student_answer_id = #{studentAnswerId,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 25 17:44:43 CST 2020.
    -->
    select student_answer_id, area_type, student_id, student_name, train_type, exercise_type, 
    bank_id, bank_name, excer_id, order_no, selection_correct, selection_answer, is_right, 
    create_time, update_time,is_error_book
    from tb_student_answer_info
  </select>
  <select id="getAnswer" resultType="java.lang.String">
    select  selection_answer from tb_student_answer_info where student_id=#{param1} and bank_id= #{param2} and excer_id=#{param3} and is_error_book=#{param4}
  </select>
  <select id="getDoNum" resultType="java.lang.Integer">
    select  count(1) from tb_student_answer_info where student_id=#{param1} and bank_id= #{param2} and is_error_book='0'
  </select>
  <select id="getRight" resultType="java.lang.Integer">
    select  count(1) from tb_student_answer_info where student_id=#{param1} and bank_id= #{param2} and is_right='1' and is_error_book='0'
  </select>
  <select id="getAswers" resultMap="BaseResultMap">
    select  order_no,is_right from tb_student_answer_info where student_id=#{param1} and bank_id= #{param2} and is_error_book='0'
  </select>
  <select id="getRightExercise" resultType="java.lang.String">
    select excer_id  from tb_student_answer_info where student_id=#{param1} and is_right='1' and is_error_book='1'
  </select>
  <delete id="restExercise">
    delete from tb_student_answer_info where student_id=#{studentId} and is_error_book=#{isErrorBook}
    <if test="bankId != null and bankId != ''">
      and bank_id= #{bankId}
    </if>
  </delete>
</mapper>