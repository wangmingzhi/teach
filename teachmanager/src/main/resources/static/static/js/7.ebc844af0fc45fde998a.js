webpackJsonp([7],{yZ1K:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("1onU"),o=i("vMJZ"),r={components:{Pagination:a.a},data:function(){return{queryParam:{typeCode:"",typeName:"",pageIndex:1,pageSize:5},dicParam:{typeCode:"",typeName:"",pageIndex:1,pageSize:5},typeRow:{},dicRow:{},listLoading:!0,dicLoading:!1,typeData:[],dicData:[],total:0,dicTotal:0,dialogTypeVisible:!1,typeForm:{dictionaryId:null,typeName:"",typeCode:"",remarks:""},dialogDicVisible:!1,dicForm:{dictionaryId:null,typeName:"",typeCode:"",dictionaryName:"",dictionaryCode:"",remarks:""},formLabelWidth:"120px",rules:{typeName:[{required:!0,message:"请输入类型名称",trigger:"blur"}],typeCode:[{required:!0,message:"请输入类型编码",trigger:"blur"}],dictionaryName:[{required:!0,message:"请输入字典名称",trigger:"blur"}],dictionaryCode:[{required:!0,message:"请输入字典编码",trigger:"blur"}],orderNo:[{required:!0,message:"请输入排序",trigger:"blur"},{type:"number",message:"排序必须为数字值",trigger:"blur",transform:function(e){return Number(e)}}]}}},created:function(){this.search()},methods:{search:function(){var e=this;this.listLoading=!0,o.a.getDicType(this.queryParam).then(function(t){var i=t.response;e.typeData=i.list,e.total=i.total,e.queryParam.pageIndex=i.pageNum,e.listLoading=!1,e.typeRow={},e.typeData.length>0&&(e.$refs.typeTable.setCurrentRow(e.typeData[0]),e.typeRow=e.typeData[0],e.searchDic())})},searchDic:function(){var e=this;this.dicLoading=!0,this.dicParam.typeCode=this.typeRow.typeCode,o.a.getDic(this.dicParam).then(function(t){var i=t.response;e.dicData=i.list,e.dicTotal=i.total,e.dicParam.pageIndex=i.pageNum,e.dicLoading=!1,e.dicRow={},e.dicData.length>0&&(e.$refs.dicTable.setCurrentRow(e.dicData[0]),e.dicRow=e.dicData[0])})},typeRowClick:function(e,t,i){this.typeRow=e,this.searchDic()},dicRowClick:function(e,t,i){this.dicRow=e},createType:function(){this.clearType(),this.dialogTypeVisible=!0,this.$refs.typeForm.resetFields()},createDic:function(){this.clearDic(),this.dialogDicVisible=!0,this.$refs.dicForm.resetFields()},clearType:function(){this.typeForm={dictionaryId:null,typeName:"",typeCode:"",orderNo:"",remarks:""}},clearDic:function(){this.dicForm={dictionaryId:null,typeName:"",typeCode:"",dictionaryName:"",dictionaryCode:"",orderNo:"",remarks:""}},editType:function(){var e=this;this.typeRow.typeCode?(this.formLoading=!0,o.a.selectDic(this.typeRow.dictionaryId).then(function(t){e.typeForm=t.response,e.formLoading=!1,e.dialogTypeVisible=!0})):this.$message({message:"请选择一行数据",type:"warning"})},editDic:function(){var e=this;this.dicRow.dictionaryCode?(this.formLoading=!0,o.a.selectDic(this.dicRow.dictionaryId).then(function(t){e.dicForm=t.response,e.formLoading=!1,e.dialogDicVisible=!0})):this.$message({message:"请选择一行数据",type:"warning"})},deleteType:function(){if(this.typeRow.typeCode){var e=this;o.a.deleteType(this.typeRow.typeCode).then(function(t){1===t.code?(e.search(),e.$message.success(t.message)):e.$message.error(t.message)})}else this.$message({message:"请选择一行数据",type:"warning"})},deleteDic:function(){if(this.dicRow.dictionaryCode){var e=this;o.a.deleteDic(this.dicRow.dictionaryId).then(function(t){1===t.code?(e.searchDic(),e.$message.success(t.message)):e.$message.error(t.message)})}else this.$message({message:"请选择一行数据",type:"warning"})},submitForm:function(){this.queryParam.pageIndex=1,this.search()},submitTypeForm:function(){var e=this,t=this;this.$refs.typeForm.validate(function(i){if(!i)return!1;e.formLoading=!0,o.a.createType(e.typeForm).then(function(e){1===e.code?(t.$message.success(e.message),t.dialogTypeVisible=!1,t.search()):(t.$message.error(e.message),t.formLoading=!1)}).catch(function(e){t.formLoading=!1})})},submitDicForm:function(){var e=this;this.dicForm.typeCode=this.typeRow.typeCode,this.dicForm.typeName=this.typeRow.typeName;var t=this;this.$refs.dicForm.validate(function(i){if(!i)return!1;e.formLoading=!0,o.a.createDic(e.dicForm).then(function(e){1===e.code?(t.$message.success(e.message),t.dialogDicVisible=!1,t.searchDic()):(t.$message.error(e.message),t.formLoading=!1)}).catch(function(e){t.formLoading=!1})})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"queryForm",attrs:{model:e.queryParam,inline:!0}},[i("el-form-item",{attrs:{label:"类型编码："}},[i("el-input",{model:{value:e.queryParam.typeCode,callback:function(t){e.$set(e.queryParam,"typeCode",t)},expression:"queryParam.typeCode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"类型名称："}},[i("el-input",{model:{value:e.queryParam.typeName,callback:function(t){e.$set(e.queryParam,"typeName",t)},expression:"queryParam.typeName"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.submitForm}},[e._v("查询")])],1)],1),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("div",[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-document-add"},on:{click:e.createType}},[e._v("新增")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.editType}},[e._v("修改")]),e._v(" "),i("el-popconfirm",{attrs:{title:"确定删除吗？",iconColor:"red"},on:{onConfirm:e.deleteType}},[i("el-button",{attrs:{slot:"reference",type:"primary",size:"small",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"typeTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.typeData,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.typeRowClick}},[i("el-table-column",{attrs:{prop:"typeName",label:"类型名称",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"typeCode",label:"类型编码"}}),e._v(" "),i("el-table-column",{attrs:{prop:"orderNo",label:"排序",width:"50px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParam.pageIndex,limit:e.queryParam.pageSize},on:{"update:page":function(t){return e.$set(e.queryParam,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParam,"pageSize",t)},pagination:e.search}})],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("div",[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-document-add"},on:{click:e.createDic}},[e._v("新增")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.editDic}},[e._v("修改")]),e._v(" "),i("el-popconfirm",{attrs:{title:"确定删除吗？",iconColor:"red"},on:{onConfirm:e.deleteDic}},[i("el-button",{attrs:{slot:"reference",type:"primary",size:"small",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dicLoading,expression:"dicLoading"}],ref:"dicTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.dicData,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.dicRowClick}},[i("el-table-column",{attrs:{prop:"dictionaryName",label:"字典名称",width:"100px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"dictionaryCode",label:"字典编码"}}),e._v(" "),i("el-table-column",{attrs:{prop:"orderNo",label:"排序",width:"50px"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.dicTotal,page:e.dicParam.pageIndex,limit:e.dicParam.pageSize},on:{"update:page":function(t){return e.$set(e.dicParam,"pageIndex",t)},"update:limit":function(t){return e.$set(e.dicParam,"pageSize",t)},pagination:e.searchDic}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"类型编辑",visible:e.dialogTypeVisible},on:{"update:visible":function(t){e.dialogTypeVisible=t}}},[i("el-form",{ref:"typeForm",attrs:{model:e.typeForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"类型名称：","label-width":e.formLabelWidth,prop:"typeName",required:""}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.typeForm.typeName,callback:function(t){e.$set(e.typeForm,"typeName",t)},expression:"typeForm.typeName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"类型编码","label-width":e.formLabelWidth,prop:"typeCode",required:""}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.typeForm.typeCode,callback:function(t){e.$set(e.typeForm,"typeCode",t)},expression:"typeForm.typeCode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序：","label-width":e.formLabelWidth,prop:"orderNo",required:""}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.typeForm.orderNo,callback:function(t){e.$set(e.typeForm,"orderNo",t)},expression:"typeForm.orderNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.typeForm.remarks,callback:function(t){e.$set(e.typeForm,"remarks",t)},expression:"typeForm.remarks"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogTypeVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitTypeForm}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"字典编辑",visible:e.dialogDicVisible},on:{"update:visible":function(t){e.dialogDicVisible=t}}},[i("el-form",{ref:"dicForm",attrs:{model:e.dicForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"字典名称：","label-width":e.formLabelWidth,prop:"dictionaryName",required:""}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.dicForm.dictionaryName,callback:function(t){e.$set(e.dicForm,"dictionaryName",t)},expression:"dicForm.dictionaryName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字典编码：","label-width":e.formLabelWidth,prop:"dictionaryCode",required:""}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.dicForm.dictionaryCode,callback:function(t){e.$set(e.dicForm,"dictionaryCode",t)},expression:"dicForm.dictionaryCode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序：","label-width":e.formLabelWidth,prop:"orderNo",required:""}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.dicForm.orderNo,callback:function(t){e.$set(e.dicForm,"orderNo",t)},expression:"dicForm.orderNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.dicForm.remarks,callback:function(t){e.$set(e.dicForm,"remarks",t)},expression:"dicForm.remarks"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogDicVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.submitDicForm}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},s=i("VU/8")(r,l,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=7.ebc844af0fc45fde998a.js.map